{%- assign step_class = "" %}

{% if step.type == "note" %}
    {%- assign step_class = "bg-info" %}
{% endif %}
{% if step.class %}
    {%- assign step_class = step.class %}
{% endif %}

<div class="accordion-header" id="heading-step-{{ forloop.index }}">
    <button class="accordion-button {% if forloop.first == false %}collapsed{% endif %}"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#collapse-step-{{ forloop.index }}"
            aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}"
            aria-controls="collapse-step-{{ forloop.index }}">
        {% case step.type %}
            {% when "task" %}
                <i class="fa-solid fa-list-check"></i>
            {% when "note" %}
                <i class="fa-solid fa-note-sticky"></i>
            {% when "event" %}
                <i class="fa-solid fa-calendar"></i>
            {% else %}
                <i class="fa-solid fa-info"></i>
        {% endcase %}

        <b>&nbsp;Step: {{ forloop.index }} {{ step.type }}&nbsp;</b>

        {% if step.title %}
            <span>{{ step.title }}</span>
        {% endif %}

        {% if step.time %}
            <span>&nbsp;
                {% if step.time %}
                    {{ step.time }}
                {% endif %}
                {% if step.replay %}
                    {{ step.replay }}
                {% endif %}
            </span>
        {% endif %}
    </button>
</div>